@model IEnumerable<WebCrawler.Models.User>

@{
    ViewData["Title"] = "會員查詢";
}

<body>
    <div class="container text-center" style="margin-top: 10px;">
        <div class="row">   
            <div class="col-12" id="a">
                <form asp-action="Search_User">
                    <div id="accordion" style="margin-bottom:10px;">
                        <div class="card" style="margin-bottom:10px;">
                            <div class="card-header text-wrap" style="height:50px;margin-bottom:10px;">    
                                <a class="collapsed btn" data-bs-toggle="collapse" href="#collapseTwo">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" style="margin-bottom:5px;margin-right:10px;" class="bi bi-funnel" viewBox="0 0 16 16">
                                        <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"/>
                                    </svg>
                                        篩選查詢
                                </a>
                            </div>
                            <div id="collapseTwo" class="collapse" data-bs-parent="#accordion">
                                <div class="row">
                                    <div class="col">
                                                                          
                                        <input class="form-control" style="width:200px;margin-left:25px;margin-top:10px;margin-bottom:10px;" type="text" name="Name" placeholder="請輸入UserName">
                                    </div> 
                                    <div class="col">
                                        <input class="form-control" style="width:200px;margin-left:25px;margin-top:10px;margin-bottom:10px;" type="text" name="Email" placeholder="請輸入UserEmail">
                                        
                                        <br />
                                    </div>
                                    <div class="col">
                                        <form asp-action="Search_User">
                                            <select class="form-select" style="width:200px;margin-left:25px;margin-top:10px;" name="Per">
                                                <option selected>請選擇權限</option>
                                                <option value="Z">審核中</option>
                                                <option value="A">A權限</option>
                                                <option value="B">B權限</option>
                                                <option value="X">停權中</option>
                                            </select>
                                        </form>
                                        <br />
                                    </div>
                                        <div class="col">   
                                        <input type="submit" value="查詢" class="btn btn-secondary barbtn" style="margin-bottom:10px;margin-top:10px;">
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
 <!----------------------------------------------------------------------------------------------------->           
                <table class="table table-hover">
                    <thead>
                        <tr>
                            @*<th>ID</th>*@
                            <th scope="col">User</th>
                            <th scope="col">Email</th>
                            @*<th scope="col">Phone</th>*@
                            <th scope="col">權限</th>
                            <th scope="col"></th>
		                </tr>
	                </thead>
                    <tbody>
                        @foreach(var obj in Model)
                        {
                            <tr>
                                <td>@obj.UName</td>
                                <td>@obj.UEmail</td>
                                @*<td>@obj.PhoneNumber</td>*@
                                <td>
                                    @switch(@obj.Permission) { 
                                        
                                        case "Z":
                                            <label>審核中</label>
                                            break; 
                                        case "A": 
                                            <label>A權限</label>
                                            break; 
                                        case "B": 
                                            <label>B權限</label>
                                            break; 
                                        case "X": 
                                            <label>停權中</label>
                                            break; 
                                    }
				                </td>
                                <td>
                                    <a asp-controller="Member" asp-action="User_Edit" asp-route-id="@obj.UId" class="btn btn-primary mx-2">編輯</a>
                                        <!---
                                        <a asp-controller="Member" asp-action="User_Delete" asp-route-id=@*"@obj.UId*@" class="btn btn-danger mx-2"> <i class="bi bi-trash-fill"></i> Delete</a>
                                        -->
				                </td>
			                </tr>
                        }
                    </tbody>
                </table>
            
            </div>  
        </div>
    </div>
</body>
